
<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta http-equiv="X-UA-Compatible" content="IE=edge">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Currículo-ON</title>
  <link rel="stylesheet" href="styles/style.css">
  <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0-alpha3/dist/css/bootstrap.min.css" rel="stylesheet" integrity="sha384-KK94CHFLLe+nY2dmCWGMq91rCGa5gtU4mk92HdvYe+M/SXH301p5ILy+dN9+nJOZ" crossorigin="anonymous">
  <script src="https://cdnjs.cloudflare.com/ajax/libs/jspdf/2.5.1/jspdf.umd.min.js"></script>
  <script src="https://html2canvas.hertzen.com/dist/html2canvas.js"></script>

  <script>
    function setDinamico(campo) {
      localStorage.setItem(campo, document.getElementById(campo).value);
      preencheDinamico(campo);
    }

    function preencheDinamico(campo) {
      document.getElementById('template_'+campo).innerHTML =  localStorage.getItem(campo);
    }


function gerarPDF() {
  window.jsPDF = window.jspdf.jsPDF;

  // Obter o conteúdo HTML que deseja converter em PDF
  var elemento = document.getElementById('template');

  // Criar um novo documento PDF
  var doc = new jsPDF();

  // Definir opções para renderizar a imagem de plano de fundo
  var options = {
    callback: function(doc) {
      // Save the PDF
      doc.save('curriculo.pdf');
    },
    x: 15,
    y: 15,
    width: 170, // target width in the PDF document
    windowWidth: 650, // window width in CSS pixels
  };

  // Modificar o estilo CSS dos elementos <h1> e <h2> para centralizá-los e adicionar o background color
  var h1Element = elemento.querySelector('h1');
  if (h1Element) {
    h1Element.style.fontSize = '30px';
    h1Element.style.color = 'white';
    h1Element.style.textAlign = 'center';
    h1Element.style.backgroundColor = 'lightgrey';
  }

  var h2Elements = elemento.querySelectorAll('h2');
  if (h2Elements.length > 0) {
    h2Elements.forEach(function(h2Element) {
      h2Element.style.color = 'white';
      h2Element.style.textAlign = 'center';
      h2Element.style.backgroundColor = 'lightgrey';
    });
  }

  doc.html(elemento, options);
}



  </script>

  </head>
<body>
  <section class="temp sec" id="criar">
    <header class="maintitle" >
      <h1>Currículo-ON</h1>
    </header>
    <div class="criar-container">
      <div class="left-criar-container">
        <div class="container-form" id="form">
          <div id="curriculo-on">
            <div class="row title">
              <div class="col-sm-12">
                  <h2 id="tituloContato">Contato</h2>
              </div>
            </div>                  
            <div class="row">
              <div class="col-sm-3 form-group"><label>Nome</label>
                <input type="text" id="nome" onchange="setDinamico(id);" class="form-control" />
              </div>
              <div class="col-sm-3 form-group"><label>Local</label>
                <input type="text" id="local" onchange="setDinamico(id);" class="form-control" />
              </div>
              <div class="col-sm-3 form-group"><label>Email</label>
                <input type="email" id="email" onchange="setDinamico(id);" class="form-control" />
              </div>
            </div>
            <div class="row hidden-print">
              <div class="col-sm-12 form-group"><label>Sobre mim</label><textarea type="text" id="sobreMim" onchange="setDinamico(id);" class="form-control"></textarea></div>
            </div>
            <div class="row title">
              <div class="col-sm-12">
                  <h2>Formação</h2>
              </div>
            </div>
            <div class="row">
              <div class="col-sm-3 form-group"><label>Local</label>
                <input type="text" id="localFormacao1" onchange="setDinamico(id);" class="form-control" />
              </div>
              <div class="col-sm-3 form-group"><label>Curso</label>
                <input type="text" id="curso1" onchange="setDinamico(id);" class="form-control" />
              </div>
              <div class="col-sm-3 form-group"><label>Ano de início</label>
                <input type="text" id="inicioFormacao1" onchange="setDinamico(id);" class="form-control" />
              </div>
              <div class="col-sm-3 form-group"><label>Ano de término</label>
                <input type="text" id="anoFormacao1" onchange="setDinamico(id);" class="form-control" />
              </div>
            </div>
            <div class="row">
              <div class="col-sm-3 form-group"><label>Local</label>
                <input type="text" id="localFormacao2" onchange="setDinamico(id);" class="form-control" />
              </div>
              <div class="col-sm-3 form-group"><label>Curso</label>
                <input type="text" id="curso2" onchange="setDinamico(id);" class="form-control" />
              </div>
              <div class="col-sm-3 form-group"><label>Ano de início</label>
                <input type="text" id="inicioFormacao2" onchange="setDinamico(id);" class="form-control" />
              </div>
              <div class="col-sm-3 form-group"><label>Ano de término</label>
                <input type="text" id="anoFormacao2" onchange="setDinamico(id);" class="form-control" />
              </div>
            </div>
            <div class="row title">
              <div class="col-sm-12">
                  <h2>Experiência</h2>
              </div>
            </div>
            <div class="row">
              <div class="col-sm-3 form-group"><label>Local</label>
                <input type="text" id="localExperiencia1" onchange="setDinamico(id);" class="form-control" />
              </div>
              <div class="col-sm-3 form-group"><label>Função</label>
                <input type="text" id="funcaoExperiencia1" onchange="setDinamico(id);" class="form-control" />
              </div>
              <div class="col-sm-3 form-group"><label>Ano de início</label>
                <input type="text" id="inicioExperiencia1" onchange="setDinamico(id);" class="form-control" />
              </div>
              <div class="col-sm-3 form-group"><label>Ano de término</label>
                <input type="text" id="anoExperiencia1" onchange="setDinamico(id);" class="form-control" />
              </div>
            </div>
            <div class="row">
              <div class="col-sm-3 form-group"><label>Local</label>
                <input type="text" id="localExperiencia2" onchange="setDinamico(id);" class="form-control" />
              </div>
                <div class="col-sm-3 form-group"><label>Função</label>
                  <input type="text" id="funcaoExperiencia2" onchange="setDinamico(id);" class="form-control" />
                </div>
                <div class="col-sm-3 form-group"><label>Ano de início</label>
                  <input type="text" id="inicioExperiencia2" onchange="setDinamico(id);" class="form-control" />
                </div>
                <div class="col-sm-3 form-group"><label>Ano de término</label>
                  <input type="text" id="anoExperiencia2" onchange="setDinamico(id);" class="form-control" />
                </div>
            </div>
            <div class="row">
              <div class="col-sm-3 form-group"><label>Local</label>
                <input type="text" id="localExperiencia3" onchange="setDinamico(id);" class="form-control" />
              </div>
              <div class="col-sm-3 form-group"><label>Função</label>
                <input type="text" id="funcaoExperiencia3" onchange="setDinamico(id);" class="form-control" />
              </div>
              <div class="col-sm-3 form-group"><label>Ano de início</label>
                <input type="text" id="inicioExperiencia3" onchange="setDinamico(id);" class="form-control" />
              </div>
              <div class="col-sm-3 form-group"><label>Ano de término</label>
                <input type="text" id="anoExperiencia3" onchange="setDinamico(id);" class="form-control" />
              </div>
            </div>
          </div>
        </div>
        
        <div class="d-flex justify-content-center mt-3">
          <span class="d-flex justify-content-center  w-25" >
            <a class="text-decoration-none p-3" style="cursor: pointer; background-color: white;border-radius: 5px;color: var(--color-black)" href="index.html">Voltar</a>
          </span>
          <span class="d-flex justify-content-center  w-25">
            <a class="text-decoration-none p-3" style="cursor: pointer; background-color: white;border-radius: 9px;color: var(--color-black)" href="javascript:gerarPDF()">Gerar PDF</a>
          </span>
        </div>
      </div>
      <div id="template" class="right-criar-container">
        <div class="tituloCurriculo">
          <tr>
            <th colspan="2" id="curriculo">
            <h1>Currículo</h1>
          </th>
        </tr>
        </div>
        
            <tr><th colspan="2" id="template_tituloContato"><h2><span class="h2-titulos">Contato</span></h2></th></tr>
        
        <table>
            <tr><td>Nome:</td><td> <span id="template_nome"></span> </td>
            <tr><td>Local:</td><td> <span id="template_local"></span> </td>
            <tr><td>Email:</td><td> <span id="template_email"></span> </td>
            <tr><td>Sobre Mim:</td><td> <span id="template_sobreMim"></span> </td>
        </table>  

                <tr><th colspan="2" id="template_tituloFormacao"><h2><span class="h2-titulos">Formação</span></h2></th></tr>
        <table>
            <tr><td>Local:</td><td> <span id="template_localFormacao1"></span> </td>
            <tr><td>Curso:</td><td> <span id="template_curso1"></span> </td>
            <tr><td>Ano de início:</td><td> <span id="template_inicioFormacao1"></span> </td>
            <tr><td>Ano conclusão:</td><td> <span id="template_anoFormacao1"></span> </td>

            <tr><td>Local:</td><td> <span id="template_localFormacao2"></span> </td>
            <tr><td>Curso:</td><td> <span id="template_curso2"></span> </td>
            <tr><td>Ano de início:</td><td> <span id="template_inicioFormacao2"></span> </td>
            <tr><td>Ano conclusão:</td><td> <span id="template_anoFormacao2"></span> </td>
        </table>
                <tr><th colspan="2" id="template_tituloExperiencia"><h2><span class="h2-titulos">Experiência</span></h2></th></tr>
        <table>             
            <tr><td>Local:</td><td> <span id="template_localExperiencia1"></span> </td>
            <tr><td>Função:</td><td> <span id="template_funcaoExperiencia1"></span> </td>
            <tr><td>Ano de início:</td><td> <span id="template_inicioExperiencia1"></span> </td>
            <tr><td>Ano término:</td><td> <span id="template_anoExperiencia1"></span> </td>

            <tr><td>Local:</td><td> <span id="template_localExperiencia2"></span> </td>
            <tr><td>Função:</td><td> <span id="template_funcaoExperiencia2"></span> </td>
            <tr><td>Ano de início:</td><td> <span id="template_inicioExperiencia2"></span> </td>
            <tr><td>Ano término:</td><td> <span id="template_anoExperiencia2"></span> </td>

            <tr><td>Local:</td><td> <span id="template_localExperiencia3"></span> </td>
            <tr><td>Função:</td><td> <span id="template_funcaoExperiencia3"></span> </td>
            <tr><td>Ano de início:</td><td> <span id="template_inicioExperiencia3"></span> </td>
            <tr><td>Ano término:</td><td> <span id="template_anoExperiencia3"></span> </td>
        </table>
        
      </div>
    </div>
  </section>
</body>
</html>